buildscript {
    repositories {
        jcenter()
        mavenCentral()
        mavenLocal()
    }
    dependencies {
        classpath "io.ratpack:ratpack-gradle:0.9.18"
        classpath 'org.grooscript:grooscript-gradle-plugin:1.2.0-SNAPSHOT'
    }
}

apply plugin: 'org.grooscript.conversion'
apply plugin: "io.ratpack.ratpack-groovy"
apply plugin: "idea"

repositories {
    jcenter()
    mavenLocal()
    mavenCentral()
}

dependencies {
    runtime "org.slf4j:slf4j-simple:1.7.12"
    compile('org.grooscript:grooscript:1.2.0-SNAPSHOT') {
        exclude module: 'groovy'
        exclude module: 'groovy-json'
    }
    compile ratpack.dependency("jackson-guice")

    testCompile "org.spockframework:spock-core:1.0-groovy-2.4"
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.5'
}

grooscript {
    source = ['src/main/groovy/frameworks/FrameworksPresenter.groovy']
    destination = 'src/ratpack/public/scripts'
    classpath = ['src/main/groovy']
    includeDependencies = true
}

run.dependsOn convertThread
